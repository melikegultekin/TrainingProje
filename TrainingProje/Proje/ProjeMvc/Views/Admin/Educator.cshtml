@using Entities.Concrete
@model List<Educator>


@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link href="~/lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
    @*<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">*@
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="~/css/all.min.css" />

    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-2.2.4/jszip-3.1.3/pdfmake-0.1.27/dt-1.10.15/b-1.3.1/b-colvis-1.3.1/b-flash-1.3.1/b-html5-1.3.1/b-print-1.3.1/r-2.1.1/sc-1.4.2/se-1.2.2/datatables.min.js"></script>
    <link href="~/AdminLTE-3.0.4/plugins/datatables-bs4/css/dataTables.bootstrap4.css" rel="stylesheet" />

    <title>AdminLTE 3 | Dashboard 3</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="~/AdminLTE-3.0.4/plugins/fontawesome-free/css/fontawesome.min.css" />
    <link rel="stylesheet" href="~/AdminLTE-3.0.4/plugins/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="">
    <!-- IonIcons -->
    <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="~/AdminLTE-3.0.4/dist/css/adminlte.min.css">
    <!-- Google Font: Source Sans Pro -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
</head>

<body>
    <br />
    <!--<div class="row">
        <div class="col-md-3 ">
            <div class="card card-info collapsed-card " style="width:270px;">
                <div class="card-header">
                    <h3 class="card-title">Eğitmen Kayıt</h3>
                    <div class="card-tools">-->
    @*<button type="button" class="btn btn-tool" title="YENİLE" data-card-widget="card-refresh" data-source="widgets.html" data-source-selector="#card-refresh-content" data-load-on-init="false">
            <i class="fas fa-sync-alt"></i>
        </button>*@
    <!--<button type="button" class="btn btn-tool" title="PENCEREYİ BÜYÜT" data-card-widget="maximize">
                <i class="fas fa-expand"></i>
            </button>
            <button type="button" class="btn btn-tool" title="PENCEREYİ AÇ" data-card-widget="collapse">
                <i class="fas fa-plus"></i>
            </button>
            <button type="button" class="btn btn-tool" title="KAPAT" data-card-widget="remove">
                <i class="fas fa-times"></i>
            </button>
        </div>

    </div>

    <div id="E1" class="card-body">
        <form id="test5">
            <div class="form-group">
                <label for="exampleInputTc">Tc kimlik numarası:</label>
                <input type="text" name="Tc" class="form-control" id="exampleInputTc"-->
    @*style="width:200px;height:30px;"*@ <!--autocomplete="off"--> @*pattern="\d{11}"*@
    <!--placeholder="Tc kimlik numarası" required oninvalid="this.setCustomValidity('11 rakam girmelisiniz')">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputKullanıcıAdı">Kullanıcı Adınız:</label>
                            <input type="text" name="EUserName" class="form-control" id="exampleInputKullanıcıAdı" placeholder="Kullanıcı Adınız" autocomplete="off" required oninvalid="this.setCustomValidity('Lütfen eğitmen için bir kullanıcı ismi giriniz!')">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEğitmeninAdıSoyadınız">Eğitmenin Adı Soyadı:</label>
                            <input type="text" name="EducatorFullName" class="form-control" id="exampleInputEğitmeninAdıSoyadınız" placeholder="Eğitmenin Adı Soyadı" autocomplete="off" required oninvalid="this.setCustomValidity('Lütfen eğitmen için bir kullanıcı ismi giriniz!')">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail">Email Adresiniz:</label>
                            <input type="email" name="Email" class="form-control" id="exampleInputEmail" placeholder="Email Adresiniz" autocomplete="off" required oninvalid="this.setCustomValidity('Lütfen geçerli bir email bilgisi giriniz!')">
                        </div>
                        <div class="form-group ">
                            <label class="form-control-label">Unvanın Adı:</label><br />
                            <select id="TitleId5" name="TitleName" class="form-select" style="width:200px;height:30px;" asp-items="(List<SelectListItem>)ViewBag.Unvan" required="">
                                <option value="0">LÜTFEN BİR UNVAN SEÇİNİZ!!</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="exampleInputSifre">Şifre:</label>
                            <input type="password" name="Password" class="form-control" id="exampleInputŞifre" placeholder="Şifre" autocomplete="off" required oninvalid="this.setCustomValidity('Lütfen bir şifre giriniz!')">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputSifretekrarı">Şifre tekrarı:</label>
                            <input type="password" name="PasswordTekrar" class="form-control" id="exampleInputSifretekrarı" placeholder="Şifre tekrarı" autocomplete="off" required oninvalid="this.setCustomValidity('Lütfen şifre tekrarı yapınız!')">
                        </div>
                        <button type="submit" id="btn1" class="btn btn-outline-info btn-sm ">Kayıt</button>
                    </form>
                </div>


            </div>
        </div>
        <div class="col-md-3">
            <div class="card card-success collapsed-card" style="width:240px;">
                <div class="card-header">
                    <h3 class="card-title">Unvan Ekle</h3>
                    <div class="card-tools">
                        <button type="button" class="btn btn-tool" title="YENİLE" data-card-widget="card-refresh" data-source="widgets.html" data-source-selector="#card-refresh-content" data-load-on-init="false">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button type="button" class="btn btn-tool" title="PENCEREYİ BÜYÜT" data-card-widget="maximize">
                            <i class="fas fa-expand"></i>
                        </button>
                        <button type="button" class="btn btn-tool" title="PENCEREYİ AÇ" data-card-widget="collapse">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button type="button" class="btn btn-tool" title="KAPAT" data-card-widget="remove">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>

                </div>

                <div class="card-body">
                    <form id="test9">
                        <div id="U1" class="form-group">
                            <label for="exampleInputUnvan">Unvan İsmi:</label>
                            <input type="text" class="form-control" id="exampleInputUnvan9" autocomplete="off" placeholder="Unvan İsmi" required oninvalid="this.setCustomValidity('Lütfen unvan ismi giriniz:')">
                        </div>
                        <button type="submit" id="btn2" class="btn btn-outline-success btn-sm ">Ekle</button>

                        <a href="/Title/GetAll" type="submit" class="btn btn-outline-info btn-sm float-lg-right">Unvanları Gör</a>
                    </form>
                </div>
            </div>
        </div>
    </div>-->
    @if (TempData["Başarısız"] != null)
    {
        <div class="alert alert-danger">
            <strong>Mesajınız!</strong>@TempData["ErrorMessage"]
            <button type="button" class="close" data-dismiss="alert">
                <span>&times;</span>
                @*<span>x</span>*@
            </button>
        </div>
    }
    <button style="width:110px;height:110px; border: none;" data-toggle="modal" data-target="#exampleModal20" title="EĞİTMEN EKLE" class="btn btn-block btn-outline-light btn-sm float-lg-right">
        <b><i class="nav-icon far fa-plus-square fa-lg text-dark"></i></b>
    </button>
    <div class="modal fade" id="exampleModal20" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel20" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel20">Eğitmen Ekle</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @*<form id="test1">*@
                    <div class="row">
                        <div class="col">
                            <label for="exampleInputTc" style="font-size:12px;">Tc kimlik numarası:</label>
                            <input type="text" name="Tc" class="form-control" style="width: 200px; height: 25px; font-size: 12px; border-color: black;" autocomplete="off" placeholder="Tc Kimlik" id="Tc" @*style="width:200px;height:30px;"*@ @*pattern="\d{11}"*@ @*placeholder="Tc kimlik numarası" required oninvalid="this.setCustomValidity('11 rakam girmelisiniz')"*@>
                        </div>

                        <div class="col">
                            <label for="exampleInputKullanıcıAdı1" style="font-size:12px;">Kullanıcı Adınız:</label>
                            <input type="text" name="EUserName" style="width: 200px; height: 25px; font-size: 12px; border-color: black;" class="form-control" autocomplete="off" id="EUserName" placeholder="Kullanıcı Adınız" required oninvalid="this.setCustomValidity('Lütfen eğitmen için bir kullanıcı ismi giriniz!')">
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col">
                            <label for="exampleInputEğitmeninAdıSoyadınız" style="font-size:12px;">Eğitmenin Adı Soyadı:</label>
                            <input type="text" name="EducatorFullName" style="width: 200px; height: 25px; font-size: 12px; border-color: black;" class="form-control" autocomplete="off" id="EducatorFullName" placeholder="Eğitmenin Adı Soyadı" required oninvalid="this.setCustomValidity('Lütfen eğitmen için bir kullanıcı ismi giriniz!')">
                        </div>
                        <div class="col">
                            <label for="exampleInputEmail" style="font-size:12px;">Email Adresiniz:</label>
                            <input type="email" name="Email" class="form-control" style="width: 200px; height: 25px; font-size: 12px; border-color: black;" id="Email" autocomplete="off" placeholder="Email Adresiniz" required oninvalid="this.setCustomValidity('Lütfen geçerli bir email bilgisi giriniz!')">
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col">
                            <label for="exampleInputSifre" style="font-size:12px;">Şifre:</label>
                            <input type="password" name="Password" class="form-control" id="Password" placeholder="Şifre" style="width: 200px; height: 25px; font-size: 12px; border-color: black;">
                            @*<input type="button"  class="btnShow" id="btnShow" value="göster" style="font-size:8px;" />*@
                            @*<i class="fa fa-eye text-white bg-dark"  id="btnShow" style="font-size:10px;"></i>*@
                            <i class="fa fa-eye parola" id="btnShow"></i>
                        </div>

                            <div class="col">
                                <label for="exampleInputSifretekrarı" style="font-size:12px;">Şifre tekrarı:</label>
                                <input type="password" name="PasswordTekrar" class="form-control" id="PasswordTekrar" placeholder="Şifre tekrarı" style="width: 200px; font-size: 12px; height: 25px; border-color: black;" required oninvalid="this.setCustomValidity('Lütfen şifre tekrarı yapınız!')">
                                @*<input type="button" class="btnShow" id="btnShow2" value="göster" style=" font-size:10px;" />*@
                                <i class="fa fa-eye parola" id="btnShow2"></i>
                            </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label class="form-control-label" style="font-size:12px;">Unvanın Adı:</label><br />
                            <select id="TitleId" name="TitleId" class="form-select float-lg-left" autocomplete="off" style="width:200px;height:25px;" asp-items="(List<SelectListItem>)ViewBag.Unvan">
                                <option value="0">LÜTFEN BİR UNVAN SEÇİNİZ!!</option>
                            </select>

                            <button style="width:40px;height:40px; border: none;" data-toggle="modal" data-target="#exampleModal21" title="UNVAN EKLE" class="btn btn-block btn-outline-light btn-sm float-lg-left">
                                <i class="nav-icon far fa-plus-square fa-lg text-secondary"></i>
                            </button>
                            <div class="modal fade" id="exampleModal21" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel21" aria-hidden="true">
                                <div class="modal-dialog col-md-4" style="width:250px;" role="document">
                                    <div class="modal-content ">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel21">Unvan Ekle</h5>
                                            <button type="button" id="exampleModal21" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body col-md-12">
                                            <div class="form-group">
                                                <label for="exampleInputUnvan" style="font-size:12px;">Unvan İsmi:</label>
                                                <input type="text" name="Unvan" style="border-color:black;" autocomplete="off" class="form-control" id="Unvan" placeholder="Unvan İsmi" required oninvalid="this.setCustomValidity('Lütfen geçerli bir email bilgisi giriniz!')">
                                            </div>
                                            <button type="submit" id="btnUnvan" style="border:none;"  class="btn btn-outline-success btn-sm ">Ekle</button>
                                            <a href="/Title/GetAll" style="border:none;" type="submit" class="btn btn-outline-info btn-sm float-lg-right">Unvanları Gör</a>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <button type="submit" id="btnSave" style="border:none;" class="btn btn-outline-info btn-sm float-lg-right">Kayıt</button>
                    @*</form>*@


                </div>
            </div>

        </div>
    </div>

    <br /><br />
    <div class="p-5 w-100 m-0">

        <h5><b>Eğitmenler</b></h5>
        <table id="tbl1" class="table table-bordered">
            <thead>
                <tr>
                    <th style="font-size:11px;"><b>Eğitmenin Unvanı</b></th>
                    <th style="font-size:11px;"><b>Eğitmenin Kullanıcı Adı</b></th>
                    <th style="font-size:11px;"><b>Eğitmenin Adı Soyadı</b></th>
                    <th></th>
                </tr>
            </thead>
            @foreach (var item in Model)
            {
                <tr>
                    <td style="font-size:11px;"><br />@item.Title.TitleName</td>
                    <td style="font-size:11px;"><br />@item.EUserName</td>
                    <td style="font-size:11px;"><br />@item.EducatorFullName</td>


                    <td>
                        <center>
                            <a href="/Manager/EProgram?EducatorId=@item.EducatorId" style="border: none;" title="EĞİTMEN PROFİLİ" class="btn btn-block btn-outline-dark btn-sm" @*class="btn btn-block btn-outline-secondary btn-sm"*@>
                                <i class="nav-icon far fa-user text-bg-dark"></i>
                            </a>
                        </center>
                    </td>

                </tr>

            }
        </table>


    </div>



    <script>
        /*$('#tbl1').DataTable();*/

        $(document).ready(function () {
            console.log("ready index!");

            $("#btnShow").click(function () {
                /*alert("Handler for .click() called.");*/
                alert($("#Password").val());
                $("#Password").attr("type", "text");
            });
            $("#btnShow2").click(function () {
                /*alert("Handler for .click() called.");*/
                alert($("#Passwordtekrar").val());
                $("#Passwordtekrar").attr("type", "text");
            });



            $('#tbl1').DataTable({
                pageLength: 15,
                language: {
                    url: '//cdn.datatables.net/plug-ins/1.13.1/i18n/tr.json'
                }
            });




            $('#btnUnvan').click(function () {
                //var Unvan = document.getElementById('Unvan').value;
                var Unvan = $('#Unvan').val();
                $.ajax({
                    type: 'Post',
                    url: '/Title/Add?TitleName=' + Unvan,
                    success: function (response) {
                        if (response === '200') {
                            /*swal("Başarılı!", "Not eklediniz!", "success");*/
                            swal({
                                title: "Başarılı!",
                                text: "Unvan Ekleme işleminiz başarılı!",
                                icon: "success",
                                //timer: 30000
                            }).then(() => {
                                location.reload();
                            });
                        }
                        else {
                            swal({
                                title: "Hata!",
                                text: response,
                                icon: "error",
                                //timer: 30000
                            }).then(() => {
                                location.reload();
                            });
                        }

                    },
                }).done(function (response) {

                });

            });

            /*$('#test1').on('submit', function (e) {*/
            /* e.preventDefault();*/
            $("#btnSave").click(function () {
                var Tc = $('#Tc').val();
                var EUserName = $('#EUserName').val();
                var EducatorFullName = $('#EducatorFullName').val();
                var Email = $('#Email').val();
                var TitleId = $('#TitleId').val();
                var Password = $('#Password').val();
                var PasswordTekrar = $('#PasswordTekrar').val();
                var model = new Object();
                model.Tc = Tc;
                model.EUserName = EUserName;
                model.EducatorFullName = EducatorFullName;
                model.Email = Email;
                model.TitleId = TitleId;
                model.Password = Password;
                model.PasswordTekrar = PasswordTekrar;
                $.ajax({
                    type: 'POST',
                    url: '/Educator/RegisterEd',
                    data: { educatorForRegisterDto: model },
                    success: function (response) {
                        if (response === '200') {
                            swal({
                                title: "Başarılı!",
                                text: "Eğitmen Ekleme işleminiz başarılı!",
                                icon: "success",
                                //timer: 30000
                            }).then(() => {
                                location.reload();

                            });

                        } else {
                            swal({
                                title: "Hata!",
                                text: response,
                                icon: "error",
                                //timer: 30000
                            });
                        }

                    },
                }).done(function (response) {

                });
            });


        });
    </script>
</body>
</html>
